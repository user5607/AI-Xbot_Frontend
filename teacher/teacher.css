/* Tailwind 基础指令 */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 自定义工具类 - 确保使用!important以提高优先级 */
@layer utilities {
    .content-auto {
        content-visibility: auto !important;
    }
    .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
    }
    .scrollbar-hide {
        -ms-overflow-style: none !important;
        scrollbar-width: none !important;
    }
    .scrollbar-hide::-webkit-scrollbar {
        display: none !important;
    }
    .transition-all-300 {
        transition: all 300ms ease-in-out !important;
    }
    .card-hover {
        transition: transform 0.3s ease, box-shadow 0.3s ease !important;
    }
    .card-hover:hover {
        transform: translateY(-3px) !important;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
    }
    .sidebar-item-active {
        @apply bg-primary/10 text-primary border-r-4 border-primary !important;
    }
    .sidebar-item-hover {
        @apply hover:bg-gray-100 transition-colors duration-200 !important;
    }
    .btn-primary {
        @apply bg-primary text-white px-4 py-2 rounded-lg font-medium hover:bg-primary/90 focus:ring-2 focus:ring-primary/50 focus:outline-none transition-all duration-200 !important;
    }
    .btn-secondary {
        @apply bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-200 focus:ring-2 focus:ring-gray-300 focus:outline-none transition-all duration-200 !important;
    }
    .stat-card {
        @apply bg-white rounded-xl shadow-card p-6 hover:shadow-card-hover transition-shadow duration-300 !important;
    }
    .progress-bar {
        @apply h-2.5 rounded-full bg-gray-200 overflow-hidden !important;
    }
    .progress-value {
        @apply h-full rounded-full transition-all duration-500 ease-out !important;
    }
    .badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium !important;
    }
}

/* 全局样式 */
@layer base {
    body {
        @apply font-sans antialiased text-gray-800 bg-gray-50 !important;
    }
    
    a {
        @apply text-primary hover:text-primary/80 transition-colors duration-200 !important;
    }
    
    /* 表单元素 */
    input, select, textarea {
        @apply w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200 !important;
    }
    
    input::placeholder, textarea::placeholder {
        @apply text-gray-400 !important;
    }
}

/* 侧边栏样式 */
#sidebar {
    @apply bg-white shadow-lg border-r border-gray-200 !important;
}

#sidebar .sidebar-dropdown-toggle {
    @apply flex items-center justify-between w-full px-4 py-3 text-gray-700 rounded-lg transition-colors duration-200 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 !important;
}

#sidebar .sidebar-dropdown {
    @apply animate-fade-in !important;
}

#sidebar .sidebar-dropdown a {
    @apply flex items-center w-full px-4 py-2 text-gray-600 rounded-lg transition-colors duration-200 hover:bg-gray-100 !important;
}

#sidebar .sidebar-dropdown a:hover {
    @apply text-primary !important;
}

/* 顶部导航栏样式 */
header {
    @apply bg-white shadow-header border-b border-gray-200 !important;
}

/* 主内容区域样式 */
main {
    @apply bg-gray-50 min-h-screen transition-all duration-300 !important;
}

/* 统计卡片样式增强 */
.stat-card-icon {
    @apply p-3 rounded-full flex items-center justify-center !important;
    min-width: 48px !important;
    height: 48px !important;
}

/* 表格样式 */
table {
    @apply w-full text-left !important;
}

table thead {
    @apply bg-gray-50 !important;
}

table th {
    @apply px-6 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider !important;
}

table td {
    @apply px-6 py-4 whitespace-nowrap text-sm text-gray-700 !important;
}

table tbody tr {
    @apply border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150 !important;
}

/* 课程卡片样式 */
.course-card {
    @apply bg-white border border-gray-200 rounded-xl overflow-hidden transition-all duration-300 hover:shadow-card-hover hover:-translate-y-1 !important;
}

.course-card-header {
    @apply bg-primary/10 p-4 !important;
}

.course-card-body {
    @apply p-4 !important;
}

/* 活动列表样式 */
.activity-item {
    @apply flex items-start p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200 !important;
}

.activity-icon {
    @apply p-2 rounded-full mr-4 flex-shrink-0 !important;
    min-width: 40px !important;
    height: 40px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

/* 移动端响应式优化 */
@media (max-width: 767px) {
    #sidebar {
        @apply shadow-xl !important;
    }
    
    .stat-card {
        @apply p-4 !important;
    }
    
    table {
        @apply block overflow-x-auto !important;
    }
}

/* 图表容器样式 */
.chart-container {
    @apply relative h-64 w-full !important;
}

/* 加载动画 */
.loading-spinner {
    @apply w-10 h-10 border-4 border-gray-200 border-t-primary rounded-full animate-spin !important;
}

/* 工具提示样式 */
.tooltip {
    @apply invisible absolute p-2 bg-gray-800 text-white text-xs rounded whitespace-nowrap z-50 opacity-0 transition-opacity duration-200 !important;
}

.tooltip-trigger:hover .tooltip {
    @apply visible opacity-100 !important;
}

/* 通知样式 */
.notification-badge {
    @apply absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full !important;
}

/* 自定义滚动条 */
.custom-scrollbar {
    scrollbar-width: thin !important;
    scrollbar-color: theme('colors.gray.300') theme('colors.gray.100') !important;
}

.custom-scrollbar::-webkit-scrollbar {
    @apply w-2 h-2 !important;
}

.custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded-full !important;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full hover:bg-gray-400 transition-colors duration-200 !important;
}